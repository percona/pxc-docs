



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation">
      
      
        <meta name="author" content="Percona LLC">
      
      
        <link rel="canonical" href="https://docs.percona.com/percona-xtradb-cluster-docs/5.7/5.7/manual/xtrabackup_sst.html">
      
      
        <link rel="prev" href="state_snapshot_transfer.html">
      
      
        <link rel="next" href="restarting_nodes.html">
      
      <link rel="icon" href="../_static/percona-favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.2">
    
    
      
        <title>Percona XtraBackup SST Configuration - Percona XtraDB Cluster</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7bf56d0a.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Poppins";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://unicons.iconscout.com/release/v3.0.3/css/line.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
    
      <link rel="stylesheet" href="../css/percona.css">
    
      <link rel="stylesheet" href="../css/nocopy.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-343802-3","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");ga("send","event","feedback","click",t,e),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){ga("send","pageview",e.pathname)})});var e=document.createElement("script");e.async=!0,e.src="https://www.google-analytics.com/analytics.js",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script>
  

    
    
    
              

              <script>
              (function (w, d, s, l, i) {
                  w[l] = w[l] || []; w[l].push({
                    'gtm.start': new Date().getTime(), 
                    event: 'gtm.js'
                  });
                  var f = d.getElementsByTagName(s)[0],
                  j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : '';
                  j.async = true; 
                  j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
                  f.parentNode.insertBefore(j, f);
                })(window, document, 'script', 'dataLayer', 'GTM-K48FGP2');
              </script>
              
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="percona-light" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#percona-xtrabackup-sst-configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://docs.percona.com" title="Percona XtraDB Cluster" class="md-header__button md-logo" aria-label="Percona XtraDB Cluster" data-md-component="logo">
      
  <img src="../_static/percona-logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Percona XtraDB Cluster
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Percona XtraBackup SST Configuration
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="percona-light" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/percona/pxc-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    percona/pxc-docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://docs.percona.com" title="Percona XtraDB Cluster" class="md-nav__button md-logo" aria-label="Percona XtraDB Cluster" data-md-component="logo">
      
  <img src="../_static/percona-logo.svg" alt="logo">

    </a>
    Percona XtraDB Cluster
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/percona/pxc-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    percona/pxc-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Introduction
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Introduction
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../intro.html" class="md-nav__link">
        About Percona XtraDB Cluster
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../limitation.html" class="md-nav__link">
        Percona XtraDB Cluster Limitations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../xtradb-cluster-version-numbers.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7 version numbers
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../overview.html" class="md-nav__link">
        Quick Start Guide for Percona XtraDB Cluster
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../install/index.html" class="md-nav__link">
        Installing Percona XtraDB Cluster
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../configure.html" class="md-nav__link">
        Configuring Nodes for Write-Set Replication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../bootstrap.html" class="md-nav__link">
        Bootstrapping the First Node
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../add-node.html" class="md-nav__link">
        Adding Nodes to Cluster
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../verify.html" class="md-nav__link">
        Verifying Replication
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Features
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Features
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/highavailability.html" class="md-nav__link">
        High Availability
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/multimaster-replication.html" class="md-nav__link">
        Multi-Source Replication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../features/pxc-strict-mode.html" class="md-nav__link">
        PXC Strict Mode
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          PXC Security
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          PXC Security
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/index.html" class="md-nav__link">
        Security Basics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/secure-network.html" class="md-nav__link">
        Securing the Network
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/encrypt-traffic.html" class="md-nav__link">
        Encrypting PXC Traffic
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          User's Manual
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          User's Manual
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="state_snapshot_transfer.html" class="md-nav__link">
        State Snapshot Transfer
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Percona XtraBackup SST Configuration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="xtrabackup_sst.html" class="md-nav__link md-nav__link--active">
        Percona XtraBackup SST Configuration
      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sst-options" class="md-nav__link">
    SST Options
  </a>
  
    <nav class="md-nav" aria-label="SST Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streamfmt" class="md-nav__link">
    streamfmt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transferfmt" class="md-nav__link">
    transferfmt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tca" class="md-nav__link">
    tca
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcert" class="md-nav__link">
    tcert
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tkey" class="md-nav__link">
    tkey
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encrypt" class="md-nav__link">
    encrypt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encrypt-algo" class="md-nav__link">
    encrypt-algo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sockopt" class="md-nav__link">
    sockopt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ncsockopt" class="md-nav__link">
    ncsockopt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#progress" class="md-nav__link">
    progress
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rebuild" class="md-nav__link">
    rebuild
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time" class="md-nav__link">
    time
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rlimit" class="md-nav__link">
    rlimit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use_extra" class="md-nav__link">
    use_extra
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cpat" class="md-nav__link">
    cpat
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compressor" class="md-nav__link">
    compressor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decompressor" class="md-nav__link">
    decompressor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inno-backup-opts" class="md-nav__link">
    inno-backup-opts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inno-apply-opts" class="md-nav__link">
    inno-apply-opts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inno-move-opts" class="md-nav__link">
    inno-move-opts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sst-initial-timeout" class="md-nav__link">
    sst-initial-timeout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sst-idle-timeout" class="md-nav__link">
    sst-idle-timeout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tmpdir" class="md-nav__link">
    tmpdir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encrypt_threads" class="md-nav__link">
    encrypt_threads
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backup_threads" class="md-nav__link">
    backup_threads
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xtrabackup-sst-dependencies" class="md-nav__link">
    XtraBackup SST Dependencies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xtrabackup-based-encryption" class="md-nav__link">
    XtraBackup-based Encryption
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#memory-allocation" class="md-nav__link">
    Memory Allocation
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="restarting_nodes.html" class="md-nav__link">
        Restarting the cluster nodes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="failover.html" class="md-nav__link">
        Cluster Failover
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="monitoring.html" class="md-nav__link">
        Monitoring the cluster
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="certification.html" class="md-nav__link">
        Certification in Percona XtraDB Cluster
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="threading_model.html" class="md-nav__link">
        Percona XtraDB Cluster threading model
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="gcache_record-set_cache_difference.html" class="md-nav__link">
        Understanding GCache and Record-Set Cache
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="performance_schema_instrumentation.html" class="md-nav__link">
        Perfomance Schema Instrumentation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/data_at_rest_encryption.html" class="md-nav__link">
        Data at Rest Encryption
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/configure-timeoutstartsec.html" class="md-nav__link">
        Configure Systemd TimeoutStartSec
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
      
        <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          Flexibility
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Flexibility
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/binlogging_replication_improvements.html" class="md-nav__link">
        Binlogging and replication improvements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/innodb_fts_improvements.html" class="md-nav__link">
        InnoDB Full-Text Search improvements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../performance/aio_page_requests.html" class="md-nav__link">
        Multiple page asynchronous I/O requests
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
      
      
      
        <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
          Diagnostics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Diagnostics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/innodb_fragmentation_count.html" class="md-nav__link">
        InnoDB Page Fragmentation Counters
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/libcoredumper.html" class="md-nav__link">
        Using libcoredumper
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/stacktrace.html" class="md-nav__link">
        Stack Trace
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
      
      
      
        <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
          How-tos
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          How-tos
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../howtos/upgrade_guide.html" class="md-nav__link">
        Upgrading Percona XtraDB Cluster
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../howtos/crash-recovery.html" class="md-nav__link">
        Crash Recovery
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../howtos/centos_howto.html" class="md-nav__link">
        Configuring Percona XtraDB Cluster on CentOS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../howtos/ubuntu_howto.html" class="md-nav__link">
        Configuring Percona XtraDB Cluster on Ubuntu
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../howtos/garbd_howto.html" class="md-nav__link">
        Setting up Galera Arbitrator
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../howtos/singlebox.html" class="md-nav__link">
        How to set up a three-node cluster on a single box
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../howtos/3nodesec2.html" class="md-nav__link">
        How to set up a three-node cluster in EC2 environment
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../howtos/haproxy.html" class="md-nav__link">
        Load balancing with HAProxy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../howtos/proxysql.html" class="md-nav__link">
        Load balancing with ProxySQL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../howtos/virt_sandbox.html" class="md-nav__link">
        Setting up PXC reference architecture with HAProxy
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
      
      
      
        <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
          References
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          References
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10_1" >
      
      
      
        <label class="md-nav__link" for="__nav_10_1" id="__nav_10_1_label" tabindex="0">
          Release notes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_10_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_10_1">
          <span class="md-nav__icon md-icon"></span>
          Release notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/release-notes_index.html" class="md-nav__link">
        Release notes index
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/5.7.40-31.63.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.40-31.63 (2022-12-29)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/5.7.39-31.61.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.39-31.61 (2022-08-29)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/5.7.38-31.59.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.38-31.59 (2022-06-29)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.37-31.57.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.37-31.57 (2022-05-18)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.36-31.55.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.36-31.55
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.35-31.53.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.35-31.53
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.34-31.51.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.34-31.51
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.33-31.49.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.33-31.49
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.32-31.47.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.32-31.47
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.31-31.45.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.31-31.45
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.31-31.45.2.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.31-31.45.2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.31-31-45.3.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.31-31.45.3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.30-31.43.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.30-31.43
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.29-31.43.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.29-31.43
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.28-31.41.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.28-31.41
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.28-31.41.2.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.28-31.41.2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.27-31.39.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.27-31.39
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.26-31.37.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.26-31.37
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.25-31.35.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.25-31.35
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.24-31.33.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.24-31.33
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.23-31.31.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.23-31.31
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.23-31.31.2.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.23-31.31.2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.22-29.26.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.22-29.26
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.21-29.26.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.21-29.26
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.20-29.24.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.20-29.24
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.19-29.22.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.19-29.22
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.19-29.22-3.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.19-29.22-3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.18-29.20.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.18-29.20
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.17-29.20.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.17-29.20
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.17-27.20.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.17-27.20
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.16-27.19.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.16-27.19
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.14-26.17.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.14-26.17
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.12-5rc1-26.16.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.12-5rc1-26.16
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-XtraDB-Cluster-5.7.11-4beta-25.14.2.html" class="md-nav__link">
        Percona XtraDB Cluster 5.7.11-4beta-25.14.2
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../wsrep-status-index.html" class="md-nav__link">
        Index of wsrep status variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../wsrep-system-index.html" class="md-nav__link">
        Index of wsrep system variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../wsrep-provider-index.html" class="md-nav__link">
        Index of wsrep_provider options
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../wsrep-files-index.html" class="md-nav__link">
        Index of files created by PXC
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../faq.html" class="md-nav__link">
        Frequently Asked Questions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../glossary.html" class="md-nav__link">
        Glossary
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../copyright-and-licensing-information.html" class="md-nav__link">
        Copyright and licensing information
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trademark-policy.html" class="md-nav__link">
        Trademark policy
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
    <br/>
   <label class="md-nav__title" for="__drawer">
    <a href="https://learn.percona.com/download-percona-xtradb-cluster-5-7-manual" onclick="_gaq.push(['b._trackEvent', 'Percona XtraBackup', 'Download', 'Download Manual Percona XtraBackup']);" class="md-nav__link md-nav__link--active">
      Download PDF
    </a>
  </label> 
  </ul>
</nav>

                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sst-options" class="md-nav__link">
    SST Options
  </a>
  
    <nav class="md-nav" aria-label="SST Options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streamfmt" class="md-nav__link">
    streamfmt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transferfmt" class="md-nav__link">
    transferfmt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tca" class="md-nav__link">
    tca
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tcert" class="md-nav__link">
    tcert
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tkey" class="md-nav__link">
    tkey
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encrypt" class="md-nav__link">
    encrypt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encrypt-algo" class="md-nav__link">
    encrypt-algo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sockopt" class="md-nav__link">
    sockopt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ncsockopt" class="md-nav__link">
    ncsockopt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#progress" class="md-nav__link">
    progress
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rebuild" class="md-nav__link">
    rebuild
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time" class="md-nav__link">
    time
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rlimit" class="md-nav__link">
    rlimit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use_extra" class="md-nav__link">
    use_extra
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cpat" class="md-nav__link">
    cpat
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compressor" class="md-nav__link">
    compressor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decompressor" class="md-nav__link">
    decompressor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inno-backup-opts" class="md-nav__link">
    inno-backup-opts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inno-apply-opts" class="md-nav__link">
    inno-apply-opts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inno-move-opts" class="md-nav__link">
    inno-move-opts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sst-initial-timeout" class="md-nav__link">
    sst-initial-timeout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sst-idle-timeout" class="md-nav__link">
    sst-idle-timeout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tmpdir" class="md-nav__link">
    tmpdir
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encrypt_threads" class="md-nav__link">
    encrypt_threads
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backup_threads" class="md-nav__link">
    backup_threads
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xtrabackup-sst-dependencies" class="md-nav__link">
    XtraBackup SST Dependencies
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xtrabackup-based-encryption" class="md-nav__link">
    XtraBackup-based Encryption
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#memory-allocation" class="md-nav__link">
    Memory Allocation
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                

                <!-- Edit and view button -->
                
                  
                  
                  <a
                    href="https://github.com/percona/pxc-docs/edit/5.7/docs/manual/xtrabackup_sst.md"
                    title=""
                    class="md-content__button md-icon"
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
                  </a>
                  <a
                    href="https://raw.githubusercontent.com/percona/pxc-docs/5.7/docs/manual/xtrabackup_sst.md"
                    title="View source of this page"
                    class="md-content__button md-icon"
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg>
                  </a>
                

                <!--
                  Hack: check whether the content contains a h1 headline. If it
                  doesn't, the page title (or respectively site name) is used
                  as the main headline.
                -->
                

                <!-- Markdown content -->
                <h1 id="percona-xtrabackup-sst-configuration">Percona XtraBackup SST Configuration<a class="headerlink" href="#percona-xtrabackup-sst-configuration" title="Permanent link">&para;</a></h1>
<p>Percona XtraBackup SST works in two stages:</p>
<ul>
<li>
<p>First it identifies the type of data transfer based on the presence of <code>xtrabackup_ist</code> file on the joiner node.</p>
</li>
<li>
<p>Then it starts data transfer:</p>
<ul>
<li>
<p>In case of <a href="../glossary.html#term-SST">SST</a>, it empties the data directory except for some files (<code>galera.cache</code>, <code>sst_in_progress</code>, <code>grastate.dat</code>) and then proceeds with SST</p>
</li>
<li>
<p>In case of <a href="../glossary.html#ist">IST</a>, it proceeds as before.</p>
</li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As of Percona XtraDB Cluster 5.7, <code>xtrabackup-v2</code> is the only XtraBackup SST method.</p>
</div>
<h2 id="sst-options">SST Options<a class="headerlink" href="#sst-options" title="Permanent link">&para;</a></h2>
<p>The following options specific to <a href="../glossary.html#sst">SST</a> can be used in <code>my.cnf</code> under <code>[sst]</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li>
<p>Non-integer options which have no default value are disabled if not set.</p>
</li>
<li>
<p><code>:Match: Yes</code> implies that option should match on donor and joiner nodes.</p>
</li>
<li>
<p>SST script reads <code>my.cnf</code> when it runs on either donor or joiner node, not during <code>mysqld</code> startup.</p>
</li>
<li>
<p>SST options must be specified in the main <code>my.cnf</code> file.</p>
</li>
</ul>
</div>
<h3 id="streamfmt">streamfmt<a class="headerlink" href="#streamfmt" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Values:</td>
<td>xbstream, tar</td>
</tr>
<tr>
<td>Default:</td>
<td>xbstream</td>
</tr>
<tr>
<td>Match:</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<p>Used to specify the Percona XtraBackup streaming format.
The recommended value is <code>streamfmt=xbstream</code>.
Certain features are not available with <code>tar</code>, for instance:
encryption, compression, parallel streaming, streaming incremental backups.
For more information about the <code>xbstream</code> format, see <a href="https://www.percona.com/doc/percona-xtrabackup/2.4/xbstream/xbstream.html">The xbstream Binary</a>.</p>
<h3 id="transferfmt">transferfmt<a class="headerlink" href="#transferfmt" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Values:</td>
<td><code>socat</code>, <code>nc</code></td>
</tr>
<tr>
<td>Default:</td>
<td><code>socat</code></td>
</tr>
<tr>
<td>Match:</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<p>Used to specify the data transfer format.
The recommended value is the default <code>transferfmt=socat</code>
because it allows for socket options,
such as transfer buffer sizes.
For more information, see <a href="https://www.dest-unreach.org/socat/doc/socat.html">socat(1)</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Using <code>transferfmt=nc</code> does not support any of the SSL-based encryption modes (values <code>2</code>, <code>3</code>, and <code>4</code> for the <code>encrypt</code> option). Only <code>encrypt=1</code> is supported.</p>
</div>
<h3 id="tca">tca<a class="headerlink" href="#tca" title="Permanent link">&para;</a></h3>
<p><strong>Example</strong>: tca=/etc/ssl/certs/mycert.crt</p>
<p>Used to specify the full path to the certificate authority (CA) file
for <code>socat</code> encryption based on OpenSSL.</p>
<h3 id="tcert">tcert<a class="headerlink" href="#tcert" title="Permanent link">&para;</a></h3>
<p><strong>Example</strong>: tcert=/etc/ssl/certs/mycert.pem</p>
<p>Used to specify the full path to the certificate file in PEM format
for <code>socat</code> encryption based on OpenSSL.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about <code>tca</code> and <code>tcert</code>, see <a href="https://www.dest-unreach.org/socat/doc/socat-openssltunnel.html">https://www.dest-unreach.org/socat/doc/socat-openssltunnel.html</a>. The <code>tca</code> is essentially the self-signed certificate in that example, and <code>tcert</code> is the PEM file generated after concatenation of the key and the certificate generated earlier. The names of options were chosen to be compatible with <code>socat</code> parameter names as well as with MySQLs SSL authentication. For testing you can also download certificates from <a href="https://bazaar.launchpad.net/~percona-core/percona-xtradb-cluster/5.5/files/head:/tests/certs/">launchpad</a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Irrespective of what is shown in the example, you can use the same .crt and .pem files on all nodes and it will work, since there is no server-client paradigm here, but rather a cluster with homogeneous nodes.</p>
</div>
<h3 id="tkey">tkey<a class="headerlink" href="#tkey" title="Permanent link">&para;</a></h3>
<p><strong>Example</strong>: tkey=/etc/ssl/keys/key.pem</p>
<p>Used to specify the full path to the private key in PEM format
for socat encryption based on OpenSSL.</p>
<h3 id="encrypt">encrypt<a class="headerlink" href="#encrypt" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Values:</td>
<td>0, 1, 2, 3</td>
</tr>
<tr>
<td>Default:</td>
<td>0</td>
</tr>
<tr>
<td>Match:</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<p>Used to enable and specify SST encryption mode:</p>
<ul>
<li>
<p>Set <code>encrypt=0</code> to disable SST encryption. This is the default value.</p>
</li>
<li>
<p>Set <code>encrypt=1</code> to perform symmetric SST encryption based on XtraBackup.</p>
</li>
<li>
<p>Set <code>encrypt=2</code> to perform SST encryption based on OpenSSL with <code>socat</code>.
  Ensure that <code>socat</code> is built with OpenSSL: <code>socat -V | grep OPENSSL</code>.
  This is recommended if your nodes are over WAN and security constraints are higher.</p>
</li>
<li>
<p>Set <code>encrypt=3</code> to perform SST encryption based on SSL for just the key and certificate files as implemented in <a href="https://galeracluster.com/library/documentation/ssl-config.html">Galera cluster</a></p>
</li>
</ul>
<p>It does not provide certificate validation.
   In order to work correctly,
   paths to the key and certificate files need to be specified as well,
   for example:</p>
<div class="highlight"><pre><span></span><code>[sst]
encrypt=3
tkey=/etc/mysql/key.pem
tcert=/etc/mysql/cert.pem
</code></pre></div>
<ul>
<li>Set <code>encrypt=4</code> for SST encryption with SSL files generated by MySQL.
  This is the recommended mode.</li>
</ul>
<p>Considering that you have all three necessary files:</p>
<div class="highlight"><pre><span></span><code>[sst]
encrypt=4
ssl-ca=ca.pem
ssl-cert=server-cert.pem
ssl-key=server-key.pem
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All encryption modes can only be used when <a href="../wsrep-system-index.html#wsrep_sst_method"><code>wsrep_sst_method</code></a> is set to <code>xtrabackup-v2</code> (which is the default).</p>
</div>
<p>For more information, see <a href="../security/encrypt-traffic.html#encrypt-traffic">Encrypting PXC Traffic</a>.</p>
<h3 id="encrypt-algo">encrypt-algo<a class="headerlink" href="#encrypt-algo" title="Permanent link">&para;</a></h3>
<p><strong>Values</strong>: AES128, AES192, AES256</p>
<p>Used to specify the SST encryption algorithm.
It uses the same values as the <code>--encryption</code> option for XtraBackup
(see <a href="https://www.percona.com/doc/percona-xtrabackup/2.4/innobackupex/encrypted_backups_innobackupex.html">this document</a>).
The <code>encrypt-algo</code> option is considered only
if <code>encrypt</code> is set to <code>1</code>.</p>
<h3 id="sockopt">sockopt<a class="headerlink" href="#sockopt" title="Permanent link">&para;</a></h3>
<p>Used to specify key/value pairs of socket options, separated by commas,
for example:</p>
<div class="highlight"><pre><span></span><code>[sst]
sockopt=&quot;retry=2,interval=3&quot;
</code></pre></div>
<p>The previous example causes socat to try to connect three times
(initial attempt and two retries with a 3-second interval between attempts).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For versions of Percona XtraDB Cluster before 5.7.17-29.20, the value must begin with a comma, for example:</p>
<div class="highlight"><pre><span></span><code>[sst]
sockopt=&quot;,cipher=AES128&quot;
</code></pre></div>
</div>
<p>This option only applies when socat is used (<code>transferfmt=socat</code>).
For more information about socket options, see
<a href="https://www.dest-unreach.org/socat/doc/socat.html">socat (1)</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can also enable SSL based compression with <code>sockopt</code>. This can be used instead of the Percona XtraBackup <code>compress</code> option.</p>
</div>
<h3 id="ncsockopt">ncsockopt<a class="headerlink" href="#ncsockopt" title="Permanent link">&para;</a></h3>
<p>Used to specify socket options for the <code>netcat</code> transfer format
(<code>transferfmt=nc</code>).</p>
<h3 id="progress">progress<a class="headerlink" href="#progress" title="Permanent link">&para;</a></h3>
<p><strong>Values</strong>: 1, path/to/file</p>
<p>Used to specify where to write SST progress.
If set to <code>1</code>, it writes to MySQL <code>stderr</code>.
Alternatively, you can specify the full path to a file.
If this is a FIFO, it needs to exist and be open on reader end before itself,
otherwise <code>wsrep_sst_xtrabackup</code> will block indefinitely.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Value of 0 is not valid.</p>
</div>
<h3 id="rebuild">rebuild<a class="headerlink" href="#rebuild" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Values:</td>
<td>0, 1</td>
</tr>
<tr>
<td>Default:</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Used to enable rebuilding of index on joiner node.
This is independent of compaction, though compaction enables it.
Rebuild of indexes may be used as an optimization.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a href="https://bugs.launchpad.net/percona-xtradb-cluster/+bug/1192834">#1192834</a> affects this option.</p>
</div>
<h3 id="time">time<a class="headerlink" href="#time" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Values:</td>
<td>0, 1</td>
</tr>
<tr>
<td>Default:</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Enabling this option instruments key stages of backup and restore in SST.</p>
<h3 id="rlimit">rlimit<a class="headerlink" href="#rlimit" title="Permanent link">&para;</a></h3>
<p><strong>Example</strong>: rlimit=128k</p>
<p>Used to set a a ratelimit in bytes.
Add a suffix (k, m, g, t) to specify units.
For example, <code>128k</code> is 128 kilobytes.
For more information, see <a href="https://linux.die.net/man/1/pv">pv(1)</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Rate is limited on donor node. The rationale behind this is to not allow SST to saturate the donors regular cluster operations or to limit the rate for other purposes.</p>
</div>
<h3 id="use_extra">use_extra<a class="headerlink" href="#use_extra" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Values:</td>
<td>0, 1</td>
</tr>
<tr>
<td>Default:</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Used to force SST to use the thread pools
<a href="https://www.percona.com/doc/percona-server/5.7/performance/threadpool.html#extra_port">extra_port</a>.
Make sure that thread pool is enabled and the <code>extra_port</code> option is set
in <code>my.cnf</code> before you enable this option.</p>
<h3 id="cpat">cpat<a class="headerlink" href="#cpat" title="Permanent link">&para;</a></h3>
<p><strong>Default</strong>: <code>'.\*\\.pem$\\|.\*init\\.ok$\\|.\*galera\\.cache$\\|.\*sst_in_progress$\\|.\*\\.sst$\\|.\*gvwstate\\.dat$\\|.\*grastate\\.dat$\\|.\*\\.err$\\|.\*\\.log$\\|.\*RPM_UPGRADE_MARKER$\\|.\*RPM_UPGRADE_HISTORY$'</code></p>
<p>Used to define the files
that need to be retained in the <a href="../glossary.html#datadir">datadir</a> before running SST,
so that the state of the other node can be restored cleanly.
For example:</p>
<div class="highlight"><pre><span></span><code>[sst]
cpat=&#39;.*galera\.cache$\|.*sst_in_progress$\|.*grastate\.dat$\|.*\.err$\|.*\.log$\|.*RPM_UPGRADE_MARKER$\|.*RPM_UPGRADE_HISTORY$\|.*\.xyz$&#39;
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This option can only be used when <a href="../wsrep-system-index.html#wsrep_sst_method"><code>wsrep_sst_method</code></a> is set to <code>xtrabackup-v2</code> (which is the default value).</p>
</div>
<h3 id="compressor">compressor<a class="headerlink" href="#compressor" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Default:</td>
<td>not set (disabled)</td>
</tr>
<tr>
<td>Example:</td>
<td>compressor=gzip</td>
</tr>
</tbody>
</table>
<h3 id="decompressor">decompressor<a class="headerlink" href="#decompressor" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Default:</td>
<td>not set (disabled)</td>
</tr>
<tr>
<td>Example:</td>
<td>decompressor=gzip -dc</td>
</tr>
</tbody>
</table>
<p>Two previous options enable stream-based compression/decompression.
When these options are set, compression/decompression is performed on stream,
in contrast to performing decompression after streaming to disk,
involving additional I/O.
This saves a lot of I/O (up to twice less I/O on joiner node).</p>
<p>You can use any compression utility which works on stream:
<code>gzip</code>, <code>pigz</code> (which is recommended because it is multi-threaded), etc.
Compressor has to be set on donor node and decompressor on joiner node
(although you can set them vice-versa for configuration homogeneity,
it wont affect that particular SST).
To use XtraBackup based compression as before,
set <code>compress</code> under <code>[xtrabackup]</code>.
Having both enabled wont cause any failure
(although you will be wasting CPU cycles).</p>
<h3 id="inno-backup-opts">inno-backup-opts<a class="headerlink" href="#inno-backup-opts" title="Permanent link">&para;</a></h3>
<h3 id="inno-apply-opts">inno-apply-opts<a class="headerlink" href="#inno-apply-opts" title="Permanent link">&para;</a></h3>
<h3 id="inno-move-opts">inno-move-opts<a class="headerlink" href="#inno-move-opts" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Default:</td>
<td>Empty</td>
</tr>
<tr>
<td>Type:</td>
<td>Quoted String</td>
</tr>
</tbody>
</table>
<p>This group of options is used to pass XtraBackup options
for backup, apply, and move stages.
The SST script doesnt alter, tweak, or optimize these options.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Although these options are related to XtraBackup SST, they cannot be specified in <code>my.cnf</code>, because they are for passing innobackupex options.</p>
</div>
<h3 id="sst-initial-timeout">sst-initial-timeout<a class="headerlink" href="#sst-initial-timeout" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Default:</td>
<td>100</td>
</tr>
<tr>
<td>Unit:</td>
<td>seconds</td>
</tr>
</tbody>
</table>
<p>This option is used to configure initial timeout (in seconds)
to receive the first packet via SST.
This has been implemented, so that if the donor node fails
somewhere in the process, the joiner node will not hang up and wait forever.</p>
<p>By default, the joiner node will not wait for more than 100 seconds
to get a donor node.
The default should be sufficient, however, it is configurable,
so you can set it appropriately for your cluster.
To disable initial SST timeout, set <code>sst-initial-timeout=0</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are using <a href="../wsrep-system-index.html#wsrep_sst_donor"><code>wsrep_sst_donor</code></a>, and you want the joiner node to strictly wait for donors listed in the variable and not fall back (that is, without a terminating comma at the end), <strong>and</strong> there is a possibility of <strong>all</strong> nodes in that variable to be unavailable, disable initial SST timeout or set it to a higher value (maximum threshold that you want the joiner node to wait). You can also disable this option (or set it to a higher value) if you believe all other nodes in the cluster can potentially become unavailable at any point in time (mostly in small clusters) or there is a high network latency or network disturbance (which can cause donor selection to take longer than 100 seconds).</p>
</div>
<h3 id="sst-idle-timeout">sst-idle-timeout<a class="headerlink" href="#sst-idle-timeout" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Version:</td>
<td>Introducted in <code>5.7.34-31.51</code></td>
</tr>
<tr>
<td>Default:</td>
<td>120</td>
</tr>
<tr>
<td>Unit:</td>
<td>seconds</td>
</tr>
</tbody>
</table>
<p>This option configures the time the SST operation waits on the joiner to receive more data. The size of the joiners sst directory is checked for the amount of data received. For example, the directory has received 50MB of data. The operation checks the data size again after the 120 seconds, the default value, has elapsed. If the data size is still 50MB, this operation is aborted. If the data has increased, the operation continues.</p>
<p>An example of setting the option:</p>
<div class="highlight"><pre><span></span><code>[sst]
sst-idle-timeout=0
</code></pre></div>
<h3 id="tmpdir">tmpdir<a class="headerlink" href="#tmpdir" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Version:</td>
<td>Introducted in <code>5.7.17-29.20</code></td>
</tr>
<tr>
<td>Default:</td>
<td>Empty</td>
</tr>
<tr>
<td>Unit:</td>
<td>/path/to/tmp/dir</td>
</tr>
</tbody>
</table>
<p>This option specifies the location for storing the temporary file
on a donor node where the transaction log is stored
before streaming or copying it to a remote host.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Starting from Percona XtraDB Cluster <code>5.7.20-29.24</code> this option can be used on joiner node also, to specify non-default location to receive temporary SST files. This location must be large enough to hold the contents of the entire database. If tmpdir is empty then default location datadir/.sst will be used.</p>
</div>
<p>The <code>tmpdir</code> option can be set in the following <code>my.cnf</code> groups:</p>
<ul>
<li>
<p><code>[sst]</code> is the primary location (others are ignored)</p>
</li>
<li>
<p><code>[xtrabackup]</code> is the secondary location
(if not specified under <code>[sst]</code>)</p>
</li>
<li>
<p><code>[mysqld]</code> is used if it is not specified in either of the above </p>
</li>
</ul>
<p><a href="../wsrep-system-index.html#wsrep_debug"><code>wsrep_debug</code></a></p>
<p>Specifies whether additional debugging output for the database server error log
should be enabled.
Disabled by default.</p>
<p>This option can be set in the following <code>my.cnf</code> groups:</p>
<ul>
<li>
<p>Under <code>[mysqld]</code> it enables debug logging for <code>mysqld</code> and the SST script</p>
</li>
<li>
<p>Under <code>[sst]</code> it enables debug logging for the SST script only</p>
</li>
</ul>
<h3 id="encrypt_threads">encrypt_threads<a class="headerlink" href="#encrypt_threads" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Version:</td>
<td>Introducted in <code>5.7.19-29.22</code></td>
</tr>
<tr>
<td>Default:</td>
<td><code>4</code></td>
</tr>
</tbody>
</table>
<p>Specifies the number of threads that XtraBackup should use for encrypting data
(when <code>encrypt=1</code>).
The value is passed using the <code>--encrypt-threads</code> option in XtraBackup.</p>
<p>This option affects only SST with XtraBackup
and should be specified under the <code>[sst]</code> group.</p>
<h3 id="backup_threads">backup_threads<a class="headerlink" href="#backup_threads" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Version:</td>
<td>Introducted in <code>5.7.19-29.22</code></td>
</tr>
<tr>
<td>Default:</td>
<td><code>4</code></td>
</tr>
</tbody>
</table>
<p>Specifies the number of threads that XtraBackup should use to create backups.
See the <code>--parallel</code> option in XtraBackup.</p>
<p>This option affects only SST with XtraBackup
and should be specified under the <code>[sst]</code> group.</p>
<h2 id="xtrabackup-sst-dependencies">XtraBackup SST Dependencies<a class="headerlink" href="#xtrabackup-sst-dependencies" title="Permanent link">&para;</a></h2>
<p>Each suppored version of Percona XtraDB Cluster is tested against a specific version of Percona XtraBackup:</p>
<ul>
<li>
<p>Percona XtraDB Cluster 5.6 requires Percona XtraBackup 2.3</p>
</li>
<li>
<p>Percona XtraDB Cluster 5.7 requires Percona XtraBackup 2.4</p>
</li>
<li>
<p>Percona XtraDB Cluster 8.0 requires Percona XtraBackup 8.0</p>
</li>
</ul>
<p>Other combinations are not guaranteed to work.</p>
<p>The following are optional dependencies of Percona XtraDB Cluster
introduced by <code>wsrep_sst_xtrabackup-v2</code>
(except for obvious and direct dependencies):</p>
<ul>
<li>
<p><code>qpress</code> for decompression.
It is an optional dependency of <em>Percona XtraBackup</em>
and it is available in our software repositories.</p>
</li>
<li>
<p><code>my_print_defaults</code> to extract values from <code>my.cnf</code>.
Provided by the server package.</p>
</li>
<li>
<p><code>openbsd-netcat</code> or <code>socat</code> for transfer.
<code>socat</code> is a direct dependency of Percona XtraDB Cluster and it is the default.</p>
</li>
<li>
<p><code>xbstream</code> or <code>tar</code> for streaming. <code>xbstream</code> is the default.</p>
</li>
<li>
<p><code>pv</code> is required for <code>progress</code> and <code>rlimit</code>.</p>
</li>
<li>
<p><code>mkfifo</code> is required for <code>progress</code>. Provided by <code>coreutils</code>.</p>
</li>
<li>
<p><code>mktemp</code> is required. Provided by <code>coreutils</code>.</p>
</li>
<li>
<p><code>which</code> is required.</p>
</li>
</ul>
<h2 id="xtrabackup-based-encryption">XtraBackup-based Encryption<a class="headerlink" href="#xtrabackup-based-encryption" title="Permanent link">&para;</a></h2>
<p>This is enabled when <code>encrypt</code> is set to <code>1</code>
under <code>[sst]</code> in <code>my.cnf</code>.
However, due to bug <a href="https://bugs.launchpad.net/percona-xtradb-cluster/+bug/1190335">#1190335</a>,
it will also be enabled when you specify any of the following options
under <code>[xtrabackup]</code> in <code>my.cnf</code>:</p>
<ul>
<li>
<p><code>encrypt</code></p>
</li>
<li>
<p><code>encrypt-key</code></p>
</li>
<li>
<p><code>encrypt-key-file</code></p>
</li>
</ul>
<p>There is no way to disable encryption from innobackupex
if any of the above are in <code>my.cnf</code> under <code>[xtrabackup]</code>.
For that reason, consider the following scenarios:</p>
<ol>
<li>
<p>If you want to use XtraBackup-based encryption for SST but not otherwise, use <code>encrypt=1</code> under <code>[sst]</code> and provide the above XtraBackup encryption options under <code>[sst]</code>. Details of those options can be found <a href="https://www.percona.com/doc/percona-xtrabackup/2.4/innobackupex/encrypted_backups_innobackupex.html">here</a>.</p>
</li>
<li>
<p>If you want to use XtraBackup-based encryption always, use <code>encrypt=1</code> under <code>[sst]</code> and have the above XtraBackup encryption options either under <code>[sst]</code> or <code>[xtrabackup]</code>.</p>
</li>
<li>
<p>If you dont want to use XtraBackup-based encryption for SST, but want it otherwise, use <code>encrypt=0</code> or <code>encrypt=2</code> and do <strong>NOT</strong> provide any XtraBackup encryption options under <code>[xtrabackup]</code>. You can still have them under <code>[sst]</code> though. You will need to provide those options on innobackupex command line then.</p>
</li>
<li>
<p>If you dont want to use XtraBackup-based encryption at all (or only the OpenSSL-based for SST with <code>encrypt=2</code>), dont provide any XtraBackup encryption options in <code>my.cnf</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>encrypt</code> option under <code>[sst]</code> is different from the one under <code>[xtrabackup]</code>.
The former is for disabling/changing encryption mode, while the latter is to provide an encryption algorithm.
To disambiguate, if you need to provide the latter under <code>[sst]</code> (for example, in cases 1 and 2 above), it should be specified as <code>encrypt-algo</code>.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>An implication of the above is that if you specify any of the XtraBackup encryption options, and <code>encrypt=0</code> under <code>[sst]</code>, it will still be encrypted and SST will fail. Look at case 3 above for resolution.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>It is insecure to use the <code>encrypt-key</code> option when performing an SST with xtrabackup-v2 and encrypt=1 (using <code>wsrep_sst_method='xtrabackup-v2'</code> under <code>[mysqld]</code> and <code>encrypt=1</code> under <code>[sst]</code>) since the key will appear on the command line, and will be visible via <code>ps</code>. Therefore it is strongly recommended to place the key into a file and use the <code>encrypt-key-file</code> option.</p>
</div>
</li>
</ol>
<h2 id="memory-allocation">Memory Allocation<a class="headerlink" href="#memory-allocation" title="Permanent link">&para;</a></h2>
<p>The amount of memory for XtraBackup
is defined by the <code>--use-memory</code> option.
You can pass it using the <code>inno-apply-opts</code> option
under <code>[sst]</code> as follows:</p>
<div class="highlight"><pre><span></span><code>[sst]
inno-apply-opts=&quot;--use-memory=500M&quot;
</code></pre></div>
<p>If it is not specified,
the <code>use-memory</code> option under <code>[xtrabackup]</code> will be used:</p>
<div class="highlight"><pre><span></span><code>[xtrabackup]
use-memory=32M
</code></pre></div>
<p>If neither of the above are specified,
the size of the InnoDB memory buffer will be used:</p>
<div class="highlight"><pre><span></span><code>[mysqld]
innodb_buffer_pool_size=24M
</code></pre></div>

                
<div class="md-relbar2__inner md-grid">
<div class="md-content">
  <article class="md-content__inner md-typeset" role="main">    
    <h3>Contact us </h3>
    <p>For free technical help, visit the Percona <a class="reference external" href="https://forums.percona.com/c/mysql-mariadb/percona-xtradb-cluster-5-x/12" target="_blank">Community Forum</a>.<br>
      <p>To report bugs or submit feature requests, open a <a class="reference external" href="https://jira.percona.com/projects/PXC/issues" target="_blank">JIRA</a> ticket.<br>
       <p>For paid <a class="reference external" href="https://www.percona.com/services/support"> support </a> and <a class="reference external" href="https://www.percona.com/services/managed-services"> managed </a> or <a class="reference external" href="https://www.percona.com/services/consulting">consulting services </a>, contact <a class="reference external" href="https://www.percona.com/about-percona/contact" target="_blank">Percona Sales</a>.</p>
 </article>
</div>
</div>

                <!-- Last update of source file -->
                
                  
                    <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      2022-08-23
    
  </small>
</div>
                  
                
              
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
    <div class="md-copyright__highlight">
 <a href='https://percona.com' target='_blank'>Percona LLC and/or its affiliates, </a> &copy; 2023
    </div>
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            

  
    
  


  
    
  



  


<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="analytics" checked>
          <span class="task-list-indicator"></span>
          Google Analytics
        </label>
      </li>
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["search.highlight", "navigation.top", "content.tabs.link", "content.action.edit", "content.action.view", "content.code.copy"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
              
      <script src="../assets/javascripts/bundle.fc8c2696.min.js"></script>
      
        <script src="../js/version-select.js"></script>
      
        <script src="../js/promptremover.js"></script>
      
    

              <img src="https://tracking.g2crowd.com/attribution_tracking/conversions/1007137.gif?e=" width="1" height="1" />

              <noscript>
                <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K48FGP2" height="0" width="0" style="display:none;visibility:hidden"></iframe>
              </noscript>
              
  </body>
</html>