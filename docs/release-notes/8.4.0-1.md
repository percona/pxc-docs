# Percona XtraDB Cluster 8.4.0-1 (2024-10-)

Percona XtraDB Cluster (PXC) supports critical business applications in your public, private, or hybrid cloud environment. Our free, open source, enterprise-grade solution includes the high availability and security features your business requires to meet your customer expectations and business goals.

## Release Highlights

Percona XtraDB Cluster is based on Percona Server for MySQL. Find a complete list of improvements and bug fixes in the [Percona Server for MySQL 8.4.0-1 (2024-08-28) release notes](https://docs.percona.com/percona-server/8.4/release-notes/8.4.0-1.html).

## Bugs Fixed

* [PXC-4034](https://perconadev.atlassian.net/browse/PXC-4034): In asynchronous replicas, using `sql_log_bin=0` disrupted the Global Transaction Identifier (GTID) consistency, causing issues with replication and tracking transactions across the system.

* [PXC-4041](https://perconadev.atlassian.net/browse/PXC-4041): Rotating the InnoDB Master Key from a read_only node breaks the cluster since changes from a read_only node are not propagated to other nodes.

* [PXC-4179](https://perconadev.atlassian.net/browse/PXC-4179): The `performance_schema.processlist` did not show information about wsrep applier threads and rollbacker threads.

* [PXC-4277](https://perconadev.atlassian.net/browse/PXC-4277): A 3-node Percona XtraDB Cluster (PXC) became inconsistent when an ALTER statement with `ALGORITHM=INPLACE` was used.

* [PXC-4298](https://perconadev.atlassian.net/browse/PXC-4298): The node was disconnected when using `ALTER TABLE`, including `ADD UNIQUE` in the table containing duplicate entries (Thanks to Vit Novak for reporting this issue.)

* [PXC-4313](https://perconadev.atlassian.net/browse/PXC-4313): When statements were executed in Replica Set Update (RSU) mode, they generated local Global Transaction Identifier (GTID) events.

* [PXC-4315](https://perconadev.atlassian.net/browse/PXC-4315): There was no Brute Force (BF) abort, but a message saying “Metadata Lock (MDL) conflict… solved by abort” was printed.

* [PXC-4316](https://perconadev.atlassian.net/browse/PXC-4316): If the node shut down while being partitioned from the cluster, started again, and then rejoined the cluster, the other part of the cluster would still wait for the partitioned node.

* [PXC-4317](https://perconadev.atlassian.net/browse/PXC-4317): On newer platforms like AlmaLinux, adding a new node to an existing cluster was unsuccessful because the readlink command used during the SST process on joiner failed (Thanks to Mikael Gbai for reporting this issue.)

* [PXC-4318](https://perconadev.atlassian.net/browse/PXC-4318): The Percona XtraDB Cluster node can serve as an async replica for another master node. However, when the same row was modified on both the Percona XtraDB Cluster node and the master node, the Percona XtraDB Cluster node got stuck due to replication conflicts.

* [PXC-4336](https://perconadev.atlassian.net/browse/PXC-4336): The Percona XtraDB Cluster node disconnected from the cluster due to CHECK CONSTRAINT.

* [PXC-4340](https://perconadev.atlassian.net/browse/PXC-4340): The server exited when executing the complicated query with 9 CTEs.

* [PXC-4341](https://perconadev.atlassian.net/browse/PXC-4341): When running `FLUSH TABLES` after a statement was prepared, the node could exit due to broken consistency.

* [PXC-4348](https://perconadev.atlassian.net/browse/PXC-4348): The joiner node exited with Metadata Lock `BF-BF` conflict during `IST`.

* [PXC-4362](https://perconadev.atlassian.net/browse/PXC-4362): The node could leave the cluster when binary logging was enabled and the function was created without super privilege.

* [PXC-4363](https://perconadev.atlassian.net/browse/PXC-4363): Concurrent CREATE and DROP USER queries on different nodes resulted in a permanent lock.

* [PXC-4365](https://perconadev.atlassian.net/browse/PXC-4365): The node could leave the cluster when the row size was too large and had more than three `nvarchar` columns.

* [PXC-4367](https://perconadev.atlassian.net/browse/PXC-4367): The InnoDB semaphore wait timeout caused a server exit under a heavy load.

* [PXC-4385](https://perconadev.atlassian.net/browse/PXC-4385): In the Total Order Isolation mode, an ALTER USER in one mode and a SET PASSWORD in another mode caused statements to hang which locked the nodes.

* [PXC-4397](https://perconadev.atlassian.net/browse/PXC-4397): The instance became unresponsive if ALTER DATABASE and DROP TRIGGER commands were run simultaneously.

* [PXC-4401](https://perconadev.atlassian.net/browse/PXC-4401): The function galera::ReplicatorSMM::replicate() contained a duplicate GU_DBUG_SYNC_WAIT("before_replicate_sync") command.

* [PXC-4403](https://perconadev.atlassian.net/browse/PXC-4403): Incorrect field metadata caused assertion in `protocol_classic.cc::store_string()`.

* [PXC-4419](https://perconadev.atlassian.net/browse/PXC-4419): A node became unresponsive if DROP USER commands were executed on different nodes.

* [PXC-4428](https://perconadev.atlassian.net/browse/PXC-4428): When the State Snapshot Transfer (SST) completed, the Galera Arbitrator Daemon (garbd) also terminated any SST subprocesses.

* [PXC-4453](https://perconadev.atlassian.net/browse/PXC-4453): Constant and frequent changes of the flow control's parameter `gcs.fc_limit` may hang the cluster

## Useful Links

* The [Percona XtraDB Cluster installation instructions](https://www.percona.com/doc/percona-xtradb-cluster/8.4/install/index.html)

* The [Percona XtraDB Cluster downloads](https://www.percona.com/downloads/Percona-XtraDB-Cluster-LATEST/#)

* The [Percona XtraDB Cluster GitHub location](https://github.com/percona/percona-xtradb-cluster)

* To contribute to the documentation, review the [Documentation Contribution Guide](https://github.com/percona/pxc-docs/blob/8.0/contributing.md)
