
  
  
  
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Percona XtraBackup SST works in two stages:">
      
      
        <meta name="author" content="Percona LLC">
      
      
        <link rel="canonical" href="https://docs.percona.com/percona-xtradb-cluster/8.0/xtrabackup-sst.html">
      
      
        <link rel="prev" href="state-snapshot-transfer.html">
      
      
        <link rel="next" href="restarting-nodes.html">
      
      
      <link rel="icon" href="assets/mysql-fav.svg">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.24">
    
    
      
        <title>Percona XtraBackup SST configuration - Percona XtraDB Cluster</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://unicons.iconscout.com/release/v3.0.3/css/line.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
    
      <link rel="stylesheet" href="css/design.css">
    
      <link rel="stylesheet" href="css/osano.css">
    
      <link rel="stylesheet" href="css/extra.css">
    
      <link rel="stylesheet" href="css/nocopy.css">
    
      <link rel="stylesheet" href="css/mysql.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-J4J70BNH0G"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-J4J70BNH0G",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-J4J70BNH0G",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  

               
               
               
               
               <meta property="og:type" content="website" />
               <meta property="og:title" content="Percona XtraDB Cluster - Percona XtraBackup SST configuration" />
               <meta property="og:image" content="https://docs.percona.com/percona-xtradb-cluster/8.0/_static/percona-mysql-logo.png">
               <meta property="og:url" content="https://docs.percona.com/percona-xtradb-cluster/">
            </head>
            </html>

            
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#percona-xtrabackup-sst-configuration" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      <!-- Determine classes -->


  


<!-- Header -->
<header class="md-header md-header--shadow" data-md-component="header">

  <!-- Super Nav -->
  <div class="superNav">
    <div class="md-header__inner md-grid">
      <a href="https://docs.percona.com/percona-for-mysql/" title="Percona Documentation home page">
        <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <mask id="a" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="24">
            <path d="M0 0h24v24H0z"/>
          </mask>
          <g mask="url(#a)">
            <path d="m7.825 13 5.6 5.6L12 20l-8-8 8-8 1.425 1.4-5.6 5.6H20v2H7.825Z"/>
          </g>
        </svg>
        <span>Percona Documentation</span>
      </a>
    </div>
  </div>

  <nav
    class="md-header__inner md-grid"
    aria-label="Header"
  >

    <!-- Link to home -->
    <a
      href="index.html"
      title="Percona XtraDB Cluster"
      class="md-header__button md-logo"
      aria-label="Percona XtraDB Cluster"
      data-md-component="logo"
    >
      
  <img src="assets/mysql-mark.svg" alt="logo">

    </a>

    <!-- Button to open drawer -->
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>

    <!-- Header title -->
    <div class="md-header__title">
      <div class="md-header__ellipsis">
        <a href="index.html" class="md-header__topic">
          <span class="md-ellipsis">
            Percona XtraDB Cluster
          </span>
        </a>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Percona XtraBackup SST configuration
            
          </span>
        </div>
      </div>
    </div>

    <!-- Color palette toggle -->
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Color theme set to Automatic. Click to change"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Color theme set to Automatic. Click to change" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="percona-light" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Color theme set to Light Mode. Click to change"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Color theme set to Light Mode. Click to change" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="percona-dark" data-md-color-primary="custom" data-md-color-accent="custom"  aria-label="Color theme set to Dark Mode. Click to change"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Color theme set to Dark Mode. Click to change" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    

    <!-- User preference: color palette -->
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    

    <!-- Site language selector -->
    

    <!-- Button to open search modal -->
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>

      <!-- Search interface -->
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    

    <!-- Repository information -->
    
      <div class="md-header__source">
        <a href="https://github.com/percona/pxc-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    percona/pxc-docs
  </div>
</a>
      </div>
    
  </nav>

  <!-- Navigation tabs (sticky) -->
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="Percona XtraDB Cluster" class="md-nav__button md-logo" aria-label="Percona XtraDB Cluster" data-md-component="logo">
      
  <img src="assets/mysql-mark.svg" alt="logo">

    </a>
    Percona XtraDB Cluster
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/percona/pxc-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    percona/pxc-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Release notes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Release notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/release-notes_index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release notes index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/8.0.36-28.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster 8.0.36-28 (2024-04-03)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/8.0.35-27.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster 8.0.35-27 (2024-01-17)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/8.0.34-26.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster 8.0.34-26 (2023-11-01)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/8.0.33-25.upd.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster 8.0.33-25 Update (2023-08-25)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/8.0.33-25.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster 8.0.33-25 (2023-08-02)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/8.0.32-24.2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster 8.0.32-24.2 (2023-05-24)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/8.0.32-24.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster 8.0.32-24 (2023-04-18)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/8.0.31-23.2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster 8.0.31-23.2 (2023-04-04)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/8.0.31-23.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster 8.0.31-23 (2023-03-14)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/8.0.30-22.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster 8.0.30-22.md (2022-12-28)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/8.0.29-21.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster 8.0.29-21 (2022-09-12)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/Percona-XtraDB-Cluster-8.0.28-19.1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster 8.0.28-19.1 (2022-07-19)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/Percona-XtraDB-Cluster-8.0.27-18.1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster 8.0.27-18.1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/Percona-XtraDB-Cluster-8.0.26-16.1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster 8.0.26-16.1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/Percona-XtraDB-Cluster-8.0.25-15.1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster 8.0.25-15.1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/Percona-XtraDB-Cluster-8.0.23-14.1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster 8.0.23-14.1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/Percona-XtraDB-Cluster-8.0.22-13.1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster 8.0.22-13.1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/Percona-XtraDB-Cluster-8.0.21-12.1.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster 8.0.21-12.1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/Percona-XtraDB-Cluster-8.0.20-11.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster 8.0.20-11
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/Percona-XtraDB-Cluster-8.0.20-11.3.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster 8.0.20-11.3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/Percona-XtraDB-Cluster-8.0.20-11.2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster 8.0.20-11.2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/Percona-XtraDB-Cluster-8.0.19-10.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster 8.0.19-10
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="release-notes/Percona-XtraDB-Cluster-8.0.18-9.3.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster 8.0.18-9.3
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Introduction
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="intro.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About Percona XtraDB Cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="limitation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster limitations
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Features
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Features
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="high-availability.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    High availability
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="strict-mode.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster strict mode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="online-schema-upgrade.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Online schema upgrade
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="nbo.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Non-Blocking Operations (NBO) method for Online Scheme Upgrades (OSU)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Quickstart guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Quickstart guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="quickstart-overview.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quickstart Guide for Percona XtraDB Cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="get-started-cluster.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Get started with Percona XtraDB Cluster
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Get started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Get started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="install-index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install Percona XtraDB Cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="apt.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install Percona XtraDB Cluster on Debian or Ubuntu
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="yum.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install Percona XtraDB Cluster on Red Hat Enterprise Linux and CentOS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tarball.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install Percona XtraDB Cluster from Binary Tarball
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="compile.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Compile and install from Source Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="docker.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running Percona XtraDB Cluster in a Docker Container
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="configure-nodes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configure nodes for write-set replication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="bootstrap.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bootstrap the first node
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="add-node.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Add nodes to cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="verify-replication.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Verify replication
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Upgrade
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Upgrade
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="upgrade-guide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Upgrade Percona XtraDB Cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="upgrade-from-backup.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Restore a 5.7 backup to an 8.0 cluster
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    PXC security
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            PXC security
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="security-index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Security basics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="secure-network.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Secure the network
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="encrypt-traffic.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Encrypt PXC traffic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="apparmor.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enable AppArmor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="selinux.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enable SELinux
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    User's manual
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            User's manual
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="state-snapshot-transfer.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    State snapshot transfer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Percona XtraBackup SST configuration
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="xtrabackup-sst.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Percona XtraBackup SST configuration
  </span>
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sst-options" class="md-nav__link">
    <span class="md-ellipsis">
      SST options
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SST options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streamfmt" class="md-nav__link">
    <span class="md-ellipsis">
      streamfmt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transferfmt" class="md-nav__link">
    <span class="md-ellipsis">
      transferfmt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssl-ca" class="md-nav__link">
    <span class="md-ellipsis">
      ssl-ca
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssl-cert" class="md-nav__link">
    <span class="md-ellipsis">
      ssl-cert
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssl-key" class="md-nav__link">
    <span class="md-ellipsis">
      ssl-key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encrypt" class="md-nav__link">
    <span class="md-ellipsis">
      encrypt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sockopt" class="md-nav__link">
    <span class="md-ellipsis">
      sockopt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ncsockopt" class="md-nav__link">
    <span class="md-ellipsis">
      ncsockopt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#progress" class="md-nav__link">
    <span class="md-ellipsis">
      progress
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rebuild" class="md-nav__link">
    <span class="md-ellipsis">
      rebuild
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time" class="md-nav__link">
    <span class="md-ellipsis">
      time
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rlimit" class="md-nav__link">
    <span class="md-ellipsis">
      rlimit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use_extra" class="md-nav__link">
    <span class="md-ellipsis">
      use_extra
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cpat" class="md-nav__link">
    <span class="md-ellipsis">
      cpat
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compressor" class="md-nav__link">
    <span class="md-ellipsis">
      compressor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decompressor" class="md-nav__link">
    <span class="md-ellipsis">
      decompressor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inno-backup-opts" class="md-nav__link">
    <span class="md-ellipsis">
      inno-backup-opts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inno-apply-opts" class="md-nav__link">
    <span class="md-ellipsis">
      inno-apply-opts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inno-move-opts" class="md-nav__link">
    <span class="md-ellipsis">
      inno-move-opts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sst-initial-timeout" class="md-nav__link">
    <span class="md-ellipsis">
      sst-initial-timeout
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sst-idle-timeout" class="md-nav__link">
    <span class="md-ellipsis">
      sst-idle-timeout
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tmpdir" class="md-nav__link">
    <span class="md-ellipsis">
      tmpdir
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encrypt_threads" class="md-nav__link">
    <span class="md-ellipsis">
      encrypt_threads
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backup_threads" class="md-nav__link">
    <span class="md-ellipsis">
      backup_threads
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xtrabackup-sst-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      XtraBackup SST dependencies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xtrabackup-based-encryption" class="md-nav__link">
    <span class="md-ellipsis">
      XtraBackup-based encryption
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#memory-allocation" class="md-nav__link">
    <span class="md-ellipsis">
      Memory allocation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-expert-help" class="md-nav__link">
    <span class="md-ellipsis">
      Get expert help
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="restarting-nodes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Restart the cluster nodes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="failover.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cluster failover
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="monitoring.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Monitor the cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="certification.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Certification in Percona XtraDB Cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="threading-model.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Percona XtraDB Cluster threading model
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="gcache-record-set-cache-difference.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Understand GCache and Record-Set cache
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="gcache-write-set-cache-encryption.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GCache encryption and Write-Set cache encryption
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="performance-schema-instrumentation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Perfomance Schema instrumentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="data-at-rest-encryption.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data at Rest Encryption
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    How-tos
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            How-tos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="crash-recovery.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Crash recovery
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="configure-cluster-rhel.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configure a cluster on Red Hat-based distributions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="configure-cluster-ubuntu.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configure a cluster on Debian or Ubuntu
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="garbd-howto.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Set up Galera arbitrator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="singlebox.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to set up a three-node cluster on a single box
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="set-up-3nodes-ec2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to set up a three-node cluster in EC2 environment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="haproxy.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Load balancing with HAProxy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="haproxy-config.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HAProxy configuration file
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="load-balance-proxysql.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Load balance with ProxySQL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="proxysql-v2.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ProxySQL admin utilities
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="virtual-sandbox.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Set up a testing environment with ProxySQL
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="wsrep-status-index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index of wsrep status variables
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="wsrep-system-index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index of wsrep system variables
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="wsrep-provider-index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index of wsrep_provider options
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="wsrep-files-index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index of files created by PXC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="telemetry.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Telemetry on Percona XtraDB Cluster
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="xtradb-cluster-version-numbers.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Understand version numbers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="faq.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Frequently asked questions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="glossary.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="copyright-and-licensing-information.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Copyright and licensing information
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="trademark-policy.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Trademark policy
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                    <br>
                    <label class="md-nav__title" for="__drawer">
                      <a href="https://learn.percona.com/download-percona-xtradb-cluster-8-manual" onclick="_gaq.push(['b._trackEvent', 'Percona XtraDB Cluster', 'Download', 'Download Manual Percona XtraDB Cluster']);" class="md-nav__link md-nav__link--active" style="font-size: .7rem;"> Download PDF
                      </a>
                    </label> 
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#sst-options" class="md-nav__link">
    <span class="md-ellipsis">
      SST options
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SST options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#streamfmt" class="md-nav__link">
    <span class="md-ellipsis">
      streamfmt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transferfmt" class="md-nav__link">
    <span class="md-ellipsis">
      transferfmt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssl-ca" class="md-nav__link">
    <span class="md-ellipsis">
      ssl-ca
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssl-cert" class="md-nav__link">
    <span class="md-ellipsis">
      ssl-cert
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ssl-key" class="md-nav__link">
    <span class="md-ellipsis">
      ssl-key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encrypt" class="md-nav__link">
    <span class="md-ellipsis">
      encrypt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sockopt" class="md-nav__link">
    <span class="md-ellipsis">
      sockopt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ncsockopt" class="md-nav__link">
    <span class="md-ellipsis">
      ncsockopt
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#progress" class="md-nav__link">
    <span class="md-ellipsis">
      progress
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rebuild" class="md-nav__link">
    <span class="md-ellipsis">
      rebuild
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#time" class="md-nav__link">
    <span class="md-ellipsis">
      time
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rlimit" class="md-nav__link">
    <span class="md-ellipsis">
      rlimit
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use_extra" class="md-nav__link">
    <span class="md-ellipsis">
      use_extra
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cpat" class="md-nav__link">
    <span class="md-ellipsis">
      cpat
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compressor" class="md-nav__link">
    <span class="md-ellipsis">
      compressor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decompressor" class="md-nav__link">
    <span class="md-ellipsis">
      decompressor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inno-backup-opts" class="md-nav__link">
    <span class="md-ellipsis">
      inno-backup-opts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inno-apply-opts" class="md-nav__link">
    <span class="md-ellipsis">
      inno-apply-opts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inno-move-opts" class="md-nav__link">
    <span class="md-ellipsis">
      inno-move-opts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sst-initial-timeout" class="md-nav__link">
    <span class="md-ellipsis">
      sst-initial-timeout
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sst-idle-timeout" class="md-nav__link">
    <span class="md-ellipsis">
      sst-idle-timeout
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tmpdir" class="md-nav__link">
    <span class="md-ellipsis">
      tmpdir
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encrypt_threads" class="md-nav__link">
    <span class="md-ellipsis">
      encrypt_threads
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backup_threads" class="md-nav__link">
    <span class="md-ellipsis">
      backup_threads
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xtrabackup-sst-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      XtraBackup SST dependencies
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#xtrabackup-based-encryption" class="md-nav__link">
    <span class="md-ellipsis">
      XtraBackup-based encryption
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#memory-allocation" class="md-nav__link">
    <span class="md-ellipsis">
      Memory allocation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-expert-help" class="md-nav__link">
    <span class="md-ellipsis">
      Get expert help
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
            <script>
              !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys onSessionId".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
              posthog.init('phc_7unoI9J6Fm0SMrfDp35xNOpCRTkOAibbffQwdGWbHnL',{api_host:'https://eu.posthog.com'})
          </script>
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/percona/pxc-docs/edit/8.0/docs/xtrabackup-sst.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/percona/pxc-docs/raw/8.0/docs/xtrabackup-sst.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg>
    </a>
  


<h1 id="percona-xtrabackup-sst-configuration">Percona XtraBackup SST configuration<a class="headerlink" href="#percona-xtrabackup-sst-configuration" title="Permanent link">&para;</a></h1>
<p>Percona XtraBackup SST works in two stages:</p>
<ol>
<li>
<p>First it identifies the type of data transfer based on the presence of <code>xtrabackup_ist</code> file on the joiner node.</p>
</li>
<li>
<p>Then it starts data transfer. In case of SST, it empties the data directory except for some files (<code>galera.cache</code>, <code>sst_in_progress</code>, <code>grastate.dat</code>) and then proceeds with SST.</p>
<p>In case of IST, it proceeds as before.</p>
</li>
</ol>
<h2 id="sst-options">SST options<a class="headerlink" href="#sst-options" title="Permanent link">&para;</a></h2>
<p>The following options specific to SST can be used in <code>my.cnf</code>
under <code>[sst]</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li>
<p>Non-integer options which have no default value are disabled if not set.</p>
</li>
<li>
<p><code>:Match: Yes</code> implies that option should match on donor and joiner nodes.</p>
</li>
<li>
<p>SST script reads <code>my.cnf</code> when it runs on either donor or joiner node, not during <code>mysqld</code> startup.</p>
</li>
<li>
<p>SST options must be specified in the main <code>my.cnf</code> file.</p>
</li>
</ul>
</div>
<h3 id="streamfmt">streamfmt<a class="headerlink" href="#streamfmt" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Values:</td>
<td>xbstream</td>
</tr>
<tr>
<td>Default:</td>
<td>xbstream</td>
</tr>
<tr>
<td>Match:</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<p>Used to specify the Percona XtraBackup streaming format. The only option is the <code>xbstream</code> format. SST fails and generates an error when another format, such as <code>tar</code>, is used.</p>
<p>For more information about the <code>xbstream</code> format, see <a href="https://docs.percona.com/percona-xtrabackup/8.0/xbstream-binary-overview.html">The xbstream Binary</a>.</p>
<h3 id="transferfmt">transferfmt<a class="headerlink" href="#transferfmt" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Values:</td>
<td><code>socat</code>, <code>nc</code></td>
</tr>
<tr>
<td>Default:</td>
<td><code>socat</code></td>
</tr>
<tr>
<td>Match:</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<p>Used to specify the data transfer format.
The recommended value is the default <code>transferfmt=socat</code>
because it allows for socket options,
such as transfer buffer sizes.
For more information, see <a href="https://www.redhat.com/sysadmin/getting-started-socat">socat(1)</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Using <code>transferfmt=nc</code> does not support the SSL-based encryption mode (value <code>4</code> for the <code>encrypt</code> option).</p>
</div>
<h3 id="ssl-ca">ssl-ca<a class="headerlink" href="#ssl-ca" title="Permanent link">&para;</a></h3>
<p><strong>Example</strong>: ssl-ca=/etc/ssl/certs/mycert.crt</p>
<p>Specifies the absolute path to the certificate authority (CA) file
for <code>socat</code> encryption based on OpenSSL.</p>
<h3 id="ssl-cert">ssl-cert<a class="headerlink" href="#ssl-cert" title="Permanent link">&para;</a></h3>
<p><strong>Example</strong>: ssl-cert=/etc/ssl/certs/mycert.pem</p>
<p>Specifies the full path to the certificate file in the PEM format
for <code>socat</code> encryption based on OpenSSL.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For more information about <code>ssl-ca</code> and <code>ssl-cert</code>,
see <a href="https://www.dest-unreach.org/socat/doc/socat-openssltunnel.html">https://www.dest-unreach.org/socat/doc/socat-openssltunnel.html</a>.
The <code>ssl-ca</code> is essentially a self-signed certificate in that example,
and <code>ssl-cert</code> is the PEM file generated after concatenation of the key
and the certificate generated earlier.
The names of options were chosen to be compatible with <code>socat</code>
parameter names as well as with MySQL’s SSL authentication.
For testing you can also download certificates from
<a href="https://bazaar.launchpad.net/~percona-core/percona-xtradb-cluster/5.5/files/head:/tests/certs/">launchpad</a>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Irrespective of what is shown in the example, you can use the same .crt and .pem files on all nodes and it will work, since there is no server-client paradigm here, but rather a cluster with homogeneous nodes.</p>
</div>
<h3 id="ssl-key">ssl-key<a class="headerlink" href="#ssl-key" title="Permanent link">&para;</a></h3>
<p><strong>Example</strong>: ssl-key=/etc/ssl/keys/key.pem</p>
<p>Used to specify the full path to the private key in PEM format
for socat encryption based on OpenSSL.</p>
<h3 id="encrypt">encrypt<a class="headerlink" href="#encrypt" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Values:</td>
<td>0, 4</td>
</tr>
<tr>
<td>Default:</td>
<td>4</td>
</tr>
<tr>
<td>Match:</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<p>Enables SST encryption mode in Percona XtraBackup:</p>
<ul>
<li>
<p>Set <code>encrypt=0</code> to disable SST encryption.</p>
</li>
<li>
<p>Set <code>encrypt=4</code> for SST encryption with SSL files generated by MySQL. This is the recommended value.</p>
</li>
</ul>
<p>Considering that you have all three necessary files:</p>
<div class="no-copy highlight"><pre><span></span><code>[sst]
encrypt=4
ssl-ca=ca.pem
ssl-cert=server-cert.pem
ssl-key=server-key.pem
</code></pre></div>
<p>For more information, see <a href="encrypt-traffic.html#encrypt-traffic">Encrypting PXC Traffic</a>.</p>
<h3 id="sockopt">sockopt<a class="headerlink" href="#sockopt" title="Permanent link">&para;</a></h3>
<p>Used to specify key/value pairs of socket options, separated by commas,
for example:</p>
<div class="no-copy highlight"><pre><span></span><code>[sst]
sockopt=&quot;retry=2,interval=3&quot;
</code></pre></div>
<p>The previous example causes socat to try to connect three times
(initial attempt and two retries with a 3-second interval between attempts).</p>
<p>This option only applies when socat is used (<code>transferfmt=socat</code>).
For more information about socket options, see
<a href="https://www.redhat.com/sysadmin/getting-started-socat">socat (1)</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can also enable SSL based compression with <code>sockopt</code>.
This can be used instead of the Percona XtraBackup <code>compress</code> option.</p>
</div>
<h3 id="ncsockopt">ncsockopt<a class="headerlink" href="#ncsockopt" title="Permanent link">&para;</a></h3>
<p>Used to specify socket options for the <code>netcat</code> transfer format
(<code>transferfmt=nc</code>).</p>
<h3 id="progress">progress<a class="headerlink" href="#progress" title="Permanent link">&para;</a></h3>
<p><strong>Values</strong>: 1, path/to/file</p>
<p>Used to specify where to write SST progress.
If set to <code>1</code>, it writes to MySQL <code>stderr</code>.
Alternatively, you can specify the full path to a file.
If this is a FIFO, it needs to exist and be open on reader end before itself,
otherwise <code>wsrep_sst_xtrabackup</code> will block indefinitely.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Value of 0 is not valid.</p>
</div>
<h3 id="rebuild">rebuild<a class="headerlink" href="#rebuild" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Values:</td>
<td>0, 1</td>
</tr>
<tr>
<td>Default:</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Used to enable rebuilding of index on joiner node.
This is independent of compaction, though compaction enables it.
Rebuild of indexes may be used as an optimization.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a href="https://bugs.launchpad.net/percona-xtradb-cluster/+bug/1192834">#1192834</a> affects this option.</p>
</div>
<h3 id="time">time<a class="headerlink" href="#time" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Values:</td>
<td>0, 1</td>
</tr>
<tr>
<td>Default:</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Enabling this option instruments key stages of backup and restore in SST.</p>
<h3 id="rlimit">rlimit<a class="headerlink" href="#rlimit" title="Permanent link">&para;</a></h3>
<p><strong>Example</strong>: rlimit=128k</p>
<p>Used to set a a ratelimit in bytes.
Add a suffix (k, m, g, t) to specify units.
For example, <code>128k</code> is 128 kilobytes.
For more information, see <a href="https://linux.die.net/man/1/pv">pv(1)</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Rate is limited on donor node. The rationale behind this is to not allow SST to saturate the donor’s regular cluster operations or to limit the rate for other purposes.</p>
</div>
<h3 id="use_extra">use_extra<a class="headerlink" href="#use_extra" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Values:</td>
<td>0, 1</td>
</tr>
<tr>
<td>Default:</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Used to force SST to use the thread pool’s
<a href="https://www.percona.com/doc/percona-server/8.0/performance/threadpool.html#extra_port">extra_port</a>.
Make sure that thread pool is enabled and the <code>extra_port</code> option is set
in <code>my.cnf</code> before you enable this option.</p>
<h3 id="cpat">cpat<a class="headerlink" href="#cpat" title="Permanent link">&para;</a></h3>
<p><strong>Default</strong>: <code>'.\*\\.pem$\\|.\*init\\.ok$\\|.\*galera\\.cache$\\|.\*sst_in_progress$\\|.\*\\.sst$\\|.\*gvwstate\\.dat$\\|.\*grastate\\.dat$\\|.\*\\.err$\\|.\*\\.log$\\|.\*RPM_UPGRADE_MARKER$\\|.\*RPM_UPGRADE_HISTORY$'</code></p>
<p>Used to define the files
that need to be retained in the <a href="glossary.html#datadir">datadir</a> before running SST,
so that the state of the other node can be restored cleanly.</p>
<p>For example:</p>
<div class="no-copy highlight"><pre><span></span><code>[sst]
cpat=&#39;.*galera\.cache$\|.*sst_in_progress$\|.*grastate\.dat$\|.*\.err$\|.*\.log$\|.*RPM_UPGRADE_MARKER$\|.*RPM_UPGRADE_HISTORY$\|.*\.xyz$&#39;
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This option can only be used when <a href="wsrep-system-index.html#wsrep_sst_method"><code>wsrep_sst_method</code></a> is set to <code>xtrabackup-v2</code> (which is the default value).</p>
</div>
<h3 id="compressor">compressor<a class="headerlink" href="#compressor" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Default:</td>
<td>not set (disabled)</td>
</tr>
<tr>
<td>Example:</td>
<td>compressor=’zstd -T0 -2’</td>
</tr>
</tbody>
</table>
<h3 id="decompressor">decompressor<a class="headerlink" href="#decompressor" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Default:</td>
<td>not set (disabled)</td>
</tr>
<tr>
<td>Example:</td>
<td>decompressor=’zstd -T0 -dc’</td>
</tr>
</tbody>
</table>
<p>Stream-based compression and decompression are performed on the stream, in contrast to performing decompression after streaming to disk, which involves additional I/O. The savings are considerable, up to half the I/O on the JOINER node.</p>
<p>You can use any compression utility which works on stream:
<code>gzip</code>, <code>pigz</code>, <code>zstd</code>, and others. The <code>pigz</code> or <code>zstd</code> options are multi-threaded. At a minimum, the compressor must be set on the DONOR and the decompressor on JOINER.</p>
<p>You must install the related binaries, otherwise SST aborts.</p>
<p>compressor=’pigz’
decompressor=’pigz -dc’</p>
<p>compressor=’gzip’
decompressor=’gzip -dc’</p>
<p>To revert to the XtraBackup-based compression,
set <code>compress</code> under <code>[xtrabackup]</code>. You can define both the compressor and the decompressor, although you will be wasting CPU cycles.</p>
<div class="highlight" data-prompt="$"><pre><span></span><code><span class="o">[</span>xtrabackup<span class="o">]</span>
compress

--<span class="w"> </span>compact<span class="w"> </span>has<span class="w"> </span>led<span class="w"> </span>to<span class="w"> </span>some<span class="w"> </span>crashes
</code></pre></div>
<h3 id="inno-backup-opts">inno-backup-opts<a class="headerlink" href="#inno-backup-opts" title="Permanent link">&para;</a></h3>
<h3 id="inno-apply-opts">inno-apply-opts<a class="headerlink" href="#inno-apply-opts" title="Permanent link">&para;</a></h3>
<h3 id="inno-move-opts">inno-move-opts<a class="headerlink" href="#inno-move-opts" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Default:</td>
<td>Empty</td>
</tr>
<tr>
<td>Type:</td>
<td>Quoted String</td>
</tr>
</tbody>
</table>
<p>This group of options is used to pass XtraBackup options
for backup, apply, and move stages.
The SST script doesn’t alter, tweak, or optimize these options.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Although these options are related to XtraBackup SST, they cannot be specified in <code>my.cnf</code>, because they are for passing innobackupex options.</p>
</div>
<h3 id="sst-initial-timeout">sst-initial-timeout<a class="headerlink" href="#sst-initial-timeout" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Default:</td>
<td>100</td>
</tr>
<tr>
<td>Unit:</td>
<td>seconds</td>
</tr>
</tbody>
</table>
<p>This option is used to configure initial timeout (in seconds)
to receive the first packet via SST.
This has been implemented, so that if the donor node fails
somewhere in the process, the joiner node will not hang up and wait forever.</p>
<p>By default, the joiner node will not wait for more than 100 seconds
to get a donor node.
The default should be sufficient, however, it is configurable,
so you can set it appropriately for your cluster.
To disable initial SST timeout, set <code>sst-initial-timeout=0</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are using <a href="wsrep-system-index.html#wsrep_sst_donor"><code>wsrep_sst_donor</code></a>, and you want the joiner node to strictly wait for donors listed in the variable and not fall back (that is, without a terminating comma at the end), <strong>and</strong> there is a possibility of <strong>all</strong> nodes in that variable to be unavailable, disable initial SST timeout or set it to a higher value (maximum threshold that you want the joiner node to wait). You can also disable this option (or set it to a higher value) if you believe all other nodes in the cluster can potentially become unavailable at any point in time (mostly in small clusters) or there is a high network latency or network disturbance (which can cause donor selection to take longer than 100 seconds).</p>
</div>
<h3 id="sst-idle-timeout">sst-idle-timeout<a class="headerlink" href="#sst-idle-timeout" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Default:</td>
<td>120</td>
</tr>
<tr>
<td>Unit:</td>
<td>seconds</td>
</tr>
</tbody>
</table>
<p>This option configures the time the SST operation waits on the joiner to receive more data. The size of the joiner’s sst directory is checked for the amount of data received. For example, the directory has received 50MB of data. The operation rechecks the data size after the default value, 120 seconds, has elapsed. If the data size is still 50MB, this operation is aborted. If the data has increased, the operation continues.</p>
<p>An example of setting the option:</p>
<div class="no-copy highlight"><pre><span></span><code>[sst]
sst-idle-timeout=0
</code></pre></div>
<h3 id="tmpdir">tmpdir<a class="headerlink" href="#tmpdir" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Default:</td>
<td>Empty</td>
</tr>
<tr>
<td>Unit:</td>
<td>/path/to/tmp/dir</td>
</tr>
</tbody>
</table>
<p>This option specifies the location for storing the temporary file
on a donor node where the transaction log is stored
before streaming or copying it to a remote host.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This option can be used on joiner node to specify non-default location to receive
temporary SST files. This location must be large enough to hold the
contents of the entire database. If tmpdir is empty then default
location datadir/.sst will be used.</p>
</div>
<p>The <code>tmpdir</code> option can be set in the following <code>my.cnf</code> groups:</p>
<ul>
<li>
<p><code>[sst]</code> is the primary location (others are ignored)</p>
</li>
<li>
<p><code>[xtrabackup]</code> is the secondary location (if not specified under <code>[sst]</code>)</p>
</li>
<li>
<p><code>[mysqld]</code> is used if it is not specified in either of the above </p>
</li>
</ul>
<p><a href="wsrep-system-index.html#wsrep_debug"><code>wsrep_debug</code></a></p>
<p>Specifies whether additional debugging output for the database server error log
should be enabled.
Disabled by default.</p>
<p>This option can be set in the following <code>my.cnf</code> groups:</p>
<ul>
<li>
<p>Under <code>[mysqld]</code> it enables debug logging for <code>mysqld</code> and the SST script</p>
</li>
<li>
<p>Under <code>[sst]</code> it enables debug logging for the SST script only</p>
</li>
</ul>
<h3 id="encrypt_threads">encrypt_threads<a class="headerlink" href="#encrypt_threads" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Default:</td>
<td><code>4</code></td>
</tr>
</tbody>
</table>
<p>Specifies the number of threads that XtraBackup should use for encrypting data
(when <code>encrypt=1</code>).
The value is passed using the <code>--encrypt-threads</code> option in XtraBackup.</p>
<p>This option affects only SST with XtraBackup
and should be specified under the <code>[sst]</code> group.</p>
<h3 id="backup_threads">backup_threads<a class="headerlink" href="#backup_threads" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Default:</td>
<td><code>4</code></td>
</tr>
</tbody>
</table>
<p>Specifies the number of threads that XtraBackup should use to create backups.
See the <code>--parallel</code> option in XtraBackup.</p>
<p>This option affects only SST with XtraBackup
and should be specified under the <code>[sst]</code> group.</p>
<h2 id="xtrabackup-sst-dependencies">XtraBackup SST dependencies<a class="headerlink" href="#xtrabackup-sst-dependencies" title="Permanent link">&para;</a></h2>
<p>Each suppored version of Percona XtraDB Cluster is tested against a specific version of Percona XtraBackup:</p>
<ul>
<li>
<p>Percona XtraDB Cluster 5.6 requires Percona XtraBackup 2.3</p>
</li>
<li>
<p>Percona XtraDB Cluster 5.7 requires Percona XtraBackup 2.4</p>
</li>
<li>
<p>Percona XtraDB Cluster 8.0 requires Percona XtraBackup 8.0</p>
</li>
</ul>
<p>Other combinations are not guaranteed to work.</p>
<p>The following are optional dependencies of Percona XtraDB Cluster
introduced by <code>wsrep_sst_xtrabackup-v2</code>
(except for obvious and direct dependencies):</p>
<ul>
<li>
<p><code>qpress</code> for decompression.
  It is an optional dependency of <em>Percona XtraBackup</em>
  and it is available in our software repositories.</p>
</li>
<li>
<p><code>my_print_defaults</code> to extract values from <code>my.cnf</code>.
  Provided by the server package.</p>
</li>
<li>
<p><code>openbsd-netcat</code> or <code>socat</code> for transfer.
  <code>socat</code> is a direct dependency of Percona XtraDB Cluster and it is the default.</p>
</li>
<li>
<p><code>xbstream</code> or <code>tar</code> for streaming. <code>xbstream</code> is the default.</p>
</li>
<li>
<p><code>pv</code> is required for <code>progress</code> and <code>rlimit</code>.</p>
</li>
<li>
<p><code>mkfifo</code> is required for <code>progress</code>. Provided by <code>coreutils</code>.</p>
</li>
<li>
<p><code>mktemp</code> is required. Provided by <code>coreutils</code>.</p>
</li>
<li>
<p><code>which</code> is required.</p>
</li>
</ul>
<h2 id="xtrabackup-based-encryption">XtraBackup-based encryption<a class="headerlink" href="#xtrabackup-based-encryption" title="Permanent link">&para;</a></h2>
<p>Settings related to XtraBackup-based Encryption are no longer allowed in PXC 8.0
when used for <a href="glossary.html#sst">SST</a>. If it is detected that XtraBackup-based Encryption is enabled, PXC will produce an error.</p>
<p>The XtraBackup-based Encryption is enabled when you specify any of the following options
under <code>[xtrabackup]</code> in <code>my.cnf</code>:</p>
<ul>
<li>
<p><code>encrypt</code></p>
</li>
<li>
<p><code>encrypt-key</code></p>
</li>
<li>
<p><code>encrypt-key-file</code></p>
</li>
</ul>
<h2 id="memory-allocation">Memory allocation<a class="headerlink" href="#memory-allocation" title="Permanent link">&para;</a></h2>
<p>The amount of memory for XtraBackup
is defined by the <code>--use-memory</code> option.
You can pass it using the <code>inno-apply-opts</code> option
under <code>[sst]</code> as follows:</p>
<div class="highlight" data-prompt="$"><pre><span></span><code><span class="o">[</span>sst<span class="o">]</span>
inno-apply-opts<span class="o">=</span><span class="s2">&quot;--use-memory=500M&quot;</span>
</code></pre></div>
<p>If it is not specified,
the <code>use-memory</code> option under <code>[xtrabackup]</code> will be used:</p>
<div class="highlight" data-prompt="$"><pre><span></span><code><span class="o">[</span>xtrabackup<span class="o">]</span>
use-memory<span class="o">=</span>32M
</code></pre></div>
<p>If neither of the above are specified,
the size of the InnoDB memory buffer will be used:</p>
<div class="highlight" data-prompt="$"><pre><span></span><code><span class="o">[</span>mysqld<span class="o">]</span>
<span class="nv">innodb_buffer_pool_size</span><span class="o">=</span>24M
</code></pre></div>
<div data-banner="data-banner">
<h2 class="title" id="get-expert-help">Get expert help<a class="headerlink" href="#get-expert-help" title="Permanent link">&para;</a></h2>
<p>If you need assistance, visit the community forum for comprehensive and free database knowledge, or contact our Percona Database Experts for professional support and services.</p>
<div class="actions">
<p><a href="https://forums.percona.com/" target="_blank"><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15 4v7H5.17L4 12.17V4h11m1-2H3a1 1 0 0 0-1 1v14l4-4h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1m5 4h-2v9H6v2a1 1 0 0 0 1 1h11l4 4V7a1 1 0 0 0-1-1Z"/></svg></span> Community Forum</a> <a href="https://www.percona.com/about/contact" target="_blank"><span class="twemoji"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <path d="M19.3996 14.148C21.9082 12.5083 22.7289 9.16368 21.2109 6.53493C20.4502 5.21636 19.2207 4.27206 17.7497 3.87776C16.3868 3.51187 14.9634 3.6615 13.7106 4.29444L12 1.33337L8.44934 7.48295L0.242432 21.6959H23.7576L19.3996 14.148ZM17.3474 5.38416C18.4167 5.66894 19.3064 6.35548 19.8606 7.31143C20.9499 9.19582 20.384 11.5859 18.6176 12.7931L14.4917 5.64797C15.3806 5.22055 16.3831 5.12734 17.3474 5.38416ZM12 4.45432L21.0533 20.135H15.7562L9.35029 9.04341L11.9995 4.45478L12 4.45432ZM2.94667 20.135L8.44888 10.6071L13.9511 20.135H2.94667Z"/>
</svg></span> Get a Percona Expert</a></p>
</div>
</div>
<hr>
<div class="md-source-file">
  <small>
    
      Last update:
      2024-03-14
    
  </small>
</div>

  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        Was this page helpful?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page was helpful" data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81Z"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="This page could be improved" data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14Z"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              Thank you for your feedback!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              Thank you for your feedback! Help us improve by following this <a href="https://docs.google.com/forms/d/1bkWACehjqlwA0AKf-qTJcXvYbOSYgze8iTPXjntqmNo/edit" target="_blank" rel="noopener">feedback form</a>.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
    <div class="md-copyright__highlight">
 <a href='https://percona.com' target='_blank'>Percona LLC and/or its affiliates, </a> &copy; 2024
 <a href="#" onclick="Osano.cm.showDrawer('osano-cm-dom-info-dialog-open')">Cookie Preferences</a>    
</div>
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": ["search.highlight", "navigation.top", "content.tabs.link", "content.code.copy", "navigation.tracking", "content.action.edit", "content.action.view"], "search": "assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
  <script src="https://cmp.osano.com/Azqe5vTyLOSbN3OuT/49ad85b5-0418-4794-ab81-7599dddd534c/osano.js"></script>
  
      <script src="assets/javascripts/bundle.081f42fc.min.js"></script>
      
        <script src="js/version-select.js"></script>
      
        <script src="js/promptremover.js"></script>
      
        <script src="js/consent.js"></script>
      
    
  
  </body>
</html>